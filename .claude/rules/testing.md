---
description: 測試規範
globs: "*.test.js,*.test.jsx,*.spec.js,*.spec.jsx"
---

# 測試規範

## 覆蓋率標準
- 最低 80% 測試覆蓋率
- 金額計算、購物車邏輯、驗證：100%

## 測試類別
- **單元測試** — 獨立函式與元件
- **整合測試** — API 與資料流
- **端對端測試** — 關鍵使用者旅程

## TDD 流程
1. 先寫測試（RED）
2. 執行測試確認失敗
3. 寫最小實作（GREEN）
4. 確認測試通過
5. 重構
6. 驗證覆蓋率

## 測試失敗排查
- 檢查測試隔離性
- 驗證 mock 實作
- 優先修正實作而非修改測試
